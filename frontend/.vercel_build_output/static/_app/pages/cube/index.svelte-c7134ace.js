import{S as e,i as t,s,e as a,t as l,c as n,a as c,g as o,d as i,b as r,f as u,K as d,h,k as v,Z as f,o as p,_ as b,J as $,$ as g,a0 as m,R as E,E as w,F as y,W as I,U as T,Y as N,a1 as O,j as k,n as D,p as S,y as A,v as j,w as B,B as x}from"../../chunks/vendor-d81b028b.js";import{A as U}from"../../chunks/Env-edee670d.js";function R(e,t,s){const a=e.slice();return a[16]=t[s],a[3]=s,a}function V(e){let t,s,v,f,p,b=e[16].name+"",$=e[16].detail+"";return{c(){t=a("option"),s=l(b),v=l(", "),f=l($),this.h()},l(e){t=n(e,"OPTION",{class:!0});var a=c(t);s=o(a,b),v=o(a,", "),f=o(a,$),a.forEach(i),this.h()},h(){t.__value=p=e[3],t.value=t.__value,r(t,"class","svelte-1vtu555")},m(e,a){u(e,t,a),d(t,s),d(t,v),d(t,f)},p(e,t){4&t&&b!==(b=e[16].name+"")&&h(s,b),4&t&&$!==($=e[16].detail+"")&&h(f,$)},d(e){e&&i(t)}}}function _(e){let t,s,N,O,k,D,S,A,j,B,x,U,_,z,C,P,H,J,L,F,K,M,W,X,Y,Z,q,G,Q,ee,te,se,ae,le,ne,ce,oe=e[2],ie=[];for(let a=0;a<oe.length;a+=1)ie[a]=V(R(e,oe,a));return{c(){t=v(),s=a("ion-searchbar"),N=v(),O=a("div"),k=a("ion-button"),D=l("create"),A=v(),j=a("ion-button"),B=l("update"),U=v(),_=a("ion-button"),z=l("delete"),P=v(),H=a("div"),J=a("select");for(let e=0;e<ie.length;e+=1)ie[e].c();L=v(),F=a("div"),K=a("ion-card"),M=a("input"),W=v(),X=a("input"),Y=v(),Z=a("textarea"),q=v(),G=a("div"),Q=v(),ee=a("div"),te=a("h1"),se=l(e[0]),ae=v(),le=new f,this.h()},l(a){t=p(a),s=n(a,"ION-SEARCHBAR",{placeholder:!0,inputmode:!0,type:!0,debounce:!0,"show-cancel-button":!0,class:!0}),c(s).forEach(i),N=p(a),O=n(a,"DIV",{class:!0});var l=c(O);k=n(l,"ION-BUTTON",{disabled:!0,class:!0});var r=c(k);D=o(r,"create"),r.forEach(i),A=p(l),j=n(l,"ION-BUTTON",{disabled:!0,class:!0});var u=c(j);B=o(u,"update"),u.forEach(i),U=p(l),_=n(l,"ION-BUTTON",{disabled:!0,class:!0});var d=c(_);z=o(d,"delete"),d.forEach(i),l.forEach(i),P=p(a),H=n(a,"DIV",{class:!0});var h=c(H);J=n(h,"SELECT",{size:!0,class:!0});var v=c(J);for(let e=0;e<ie.length;e+=1)ie[e].l(v);v.forEach(i),L=p(h),F=n(h,"DIV",{class:!0});var f=c(F);K=n(f,"ION-CARD",{class:!0});var $=c(K);M=n($,"INPUT",{type:!0,class:!0}),W=p($),X=n($,"INPUT",{type:!0,class:!0}),Y=p($),Z=n($,"TEXTAREA",{id:!0,cols:!0,rows:!0,class:!0}),c(Z).forEach(i),$.forEach(i),f.forEach(i),q=p(h),G=n(h,"DIV",{id:!0,class:!0}),c(G).forEach(i),Q=p(h),ee=n(h,"DIV",{class:!0});var g=c(ee);te=n(g,"H1",{class:!0});var m=c(te);se=o(m,e[0]),m.forEach(i),ae=p(g),le=b(g),g.forEach(i),h.forEach(i),this.h()},h(){$(s,"placeholder","Search"),$(s,"inputmode","search"),$(s,"type","search"),$(s,"debounce","250"),$(s,"show-cancel-button","focus"),$(s,"class","svelte-1vtu555"),$(k,"disabled",S=!e[0]||!e[4]),$(k,"class","svelte-1vtu555"),$(j,"disabled",x=!e[0]||!e[4]||!e[6]),$(j,"class","svelte-1vtu555"),$(_,"disabled",C=!e[6]),$(_,"class","svelte-1vtu555"),r(O,"class","buttons svelte-1vtu555"),r(J,"size",5),r(J,"class","svelte-1vtu555"),void 0===e[3]&&g((()=>e[12].call(J))),r(M,"type","text"),r(M,"class","outline-none border-b-2 w-full focus-within:border-purple-400 svelte-1vtu555"),r(X,"type","text"),r(X,"class","outline-none border-b-2 w-full focus-within:border-purple-400 svelte-1vtu555"),r(Z,"id",""),r(Z,"cols","30"),r(Z,"rows","10"),r(Z,"class","w-full outline-none svelte-1vtu555"),$(K,"class","svelte-1vtu555"),r(F,"class","details svelte-1vtu555"),r(G,"id","editor"),r(G,"class","svelte-1vtu555"),r(te,"class","svelte-1vtu555"),le.a=null,r(ee,"class","preview prose prose-lg svelte-1vtu555"),r(H,"class","grid grid-cols-3 svelte-1vtu555")},m(a,l){u(a,t,l),u(a,s,l),u(a,N,l),u(a,O,l),d(O,k),d(k,D),d(O,A),d(O,j),d(j,B),d(O,U),d(O,_),d(_,z),u(a,P,l),u(a,H,l),d(H,J);for(let e=0;e<ie.length;e+=1)ie[e].m(J,null);m(J,e[3]),d(H,L),d(H,F),d(F,K),d(K,M),E(M,e[0]),d(K,W),d(K,X),E(X,e[4]),d(K,Y),d(K,Z),E(Z,e[1]),d(H,q),d(H,G),d(H,Q),d(H,ee),d(ee,te),d(te,se),d(ee,ae),le.m(e[5],ee),ne||(ce=[w(s,"change",e[11]),w(k,"click",e[7]),w(j,"click",e[8]),w(_,"click",e[9]),w(J,"change",e[12]),w(M,"input",e[13]),w(X,"input",e[14]),w(Z,"input",e[15])],ne=!0)},p(e,[t]){if(17&t&&S!==(S=!e[0]||!e[4])&&$(k,"disabled",S),81&t&&x!==(x=!e[0]||!e[4]||!e[6])&&$(j,"disabled",x),64&t&&C!==(C=!e[6])&&$(_,"disabled",C),4&t){let s;for(oe=e[2],s=0;s<oe.length;s+=1){const a=R(e,oe,s);ie[s]?ie[s].p(a,t):(ie[s]=V(a),ie[s].c(),ie[s].m(J,null))}for(;s<ie.length;s+=1)ie[s].d(1);ie.length=oe.length}8&t&&m(J,e[3]),1&t&&M.value!==e[0]&&E(M,e[0]),16&t&&X.value!==e[4]&&E(X,e[4]),2&t&&E(Z,e[1]),1&t&&h(se,e[0]),32&t&&le.p(e[5])},i:y,o:y,d(e){e&&i(t),e&&i(s),e&&i(N),e&&i(O),e&&i(P),e&&i(H),I(ie,e),ne=!1,T(ce)}}}function z(e,t,s){let a,l,n,{items:c=[]}=t;console.log(c);let o="",i="",r="",u=0;return e.$$set=e=>{"items"in e&&s(10,c=e.items)},e.$$.update=()=>{1024&e.$$.dirty&&s(2,a=c),12&e.$$.dirty&&s(6,l=a[u]),2&e.$$.dirty&&s(5,n=N(r||""))},[o,r,a,u,i,n,l,async function(){let e={name:o,detail:i,content:r};const t=await fetch(U+"/cubes",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify(e)});t.ok&&(console.log(await t.json()),s(10,c=c.concat({name:o,detail:i})),s(3,u=c.length-1),s(0,o=s(4,i="")))},function(){s(6,l.name=o,l),s(6,l.detail=i,l),s(10,c)},async function(){const e=await fetch(U+"/cubes/"+l.id,{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token")}});e.ok&&(delete c[u],s(10,c=c.flat()),console.log(await e.json()))},c,e=>console.log(e),function(){u=O(this),s(3,u)},function(){o=this.value,s(0,o)},function(){i=this.value,s(4,i)},function(){r=this.value,s(1,r)}]}class C extends e{constructor(e){super(),t(this,e,z,_,s,{items:10})}}function P(e){let t,s;return t=new C({props:{items:e[0]}}),{c(){k(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,a){S(t,e,a),s=!0},p(e,[s]){const a={};1&s&&(a.items=e[0]),t.$set(a)},i(e){s||(A(t.$$.fragment,e),s=!0)},o(e){j(t.$$.fragment,e),s=!1},d(e){B(t,e)}}}async function H({fetch:e}){const t=await e(U+"/cubes");return{props:{cubes:await t.json()}}}function J(e,t,s){let a,{cubes:l=[]}=t,n=new Date;return x((()=>{const e=setInterval((()=>{s(1,n=new Date)}),1e3);return()=>{clearInterval(e)}})),e.$$set=e=>{"cubes"in e&&s(0,l=e.cubes)},e.$$.update=()=>{2&e.$$.dirty&&n.getHours(),2&e.$$.dirty&&n.getMinutes(),2&e.$$.dirty&&s(2,a=n.getSeconds()),e.$$.dirty},[l,n,a]}class L extends e{constructor(e){super(),t(this,e,J,P,s,{cubes:0})}}export{L as default,H as load};
